<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 9</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        #canvasContainer {
            position: relative;
            margin-top: 20px; /* Add some margin to create space */
        }

        #pictureBox1 {
            border: 1px solid #000;
        }

        label, input, select {
            margin-bottom: 10px; /* Add some margin to create space between elements */
        }
    </style>
</head>
<body>
    <h1>Homework 9</h1>
    <h2>Indications on how to use...</h2>

    <label for="inputm">Enter value for M:</label>
    <input type="number" id="inputm" placeholder="Enter M" value="1000" />

    <label for="inputn">Enter value for N:</label>
    <input type="number" id="inputn" placeholder="Enter N" value="40" />

    <label for="inputp">Enter value for P:</label>
    <input type="number" id="inputp" placeholder="Enter P" value="0.5" />

    <label for="menu">Select a Distribution:</label>
    <select id="menu" onchange="handleSelection()">
        <option value="arithmeticBrownian">Arithmetic Brownian</option>
        <option value="geometricBrownian">Geometric Brownian (Black–Scholes)</option>
        <option value="ornsteinUhlenbeck">Ornstein–Uhlenbeck (mean-reverting)</option>
        <option value="vasicek">Vasicek</option>
        <option value="hullWhite">Hull–White</option>        
        <option value="blackKarasinski">Black–Karasinski</option>
        <option value="heston">Heston</option>
        <option value="chenModel">Chen model</option>
    </select>
	
	<div id="canvasContainer">
        <canvas id="pictureBox1" width="1000" height="1000"></canvas>
    </div>
	
	<script src="./Adversary.js"></script>
	<script src="./LineChart.js"></script>

    <script>
        let m = 1000;
        let n = 40;
        let p = 0.5;
        let selectedDistribution = "arithmeticBrownian";
		let adv;
		let data1;
		let chart1;
		
		// Genera i dati
        adv = new Adversary(m, n, p);
        adv.generateAttacks();

        // Recupera i dati
        data1 = adv.getLineChart1AttackList();
		
		// Genera grafico
		chart1 = new LineChart(document.getElementById('pictureBox1'));
        chart1.drawChart(data1);
		
        function updateInputValues() {
            adv = new Adversary(m, n, p);
			data1 = adv.getLineChart1AttackList();
			chart1.drawChart(data1);
        }

        function handleSelection() {
            selectedDistribution = document.getElementById("menu").value;
			console.log(`selectedDistribution updated: ${selectedDistribution}`);
            updateInputValues();
        }

        document.getElementById("inputm").addEventListener("input", function() {
            m = parseInt(this.value) || 0;
            console.log(`m updated: ${m}`);
            updateInputValues();
        });

        document.getElementById("inputn").addEventListener("input", function() {
            n = parseInt(this.value) || 0;
			console.log(`n updated: ${n}`);
            updateInputValues();
        });

        document.getElementById("inputp").addEventListener("input", function() {
            p = parseInt(this.value) || 0;
			console.log(`p updated: ${p}`);
            updateInputValues();
        });
    </script>
	
</body>
</html>
